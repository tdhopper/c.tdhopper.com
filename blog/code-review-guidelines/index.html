<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="A proposed code review guideline for data science teams, emphasizing the benefits of code reviews, what they are not intended for, and offering detailed advice for both submitting and reviewing pull requests."><title>Code Review Guidelines for Data Science Teams</title>
<link rel=canonical href=https://tdhopper.com/blog/code-review-guidelines/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Code Review Guidelines for Data Science Teams"><meta property='og:description' content="A proposed code review guideline for data science teams, emphasizing the benefits of code reviews, what they are not intended for, and offering detailed advice for both submitting and reviewing pull requests."><meta property='og:url' content='https://tdhopper.com/blog/code-review-guidelines/'><meta property='og:site_name' content='Tim Hopper'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='python'><meta property='article:published_time' content='2021-12-03T15:37:00+00:00'><meta property='article:modified_time' content='2024-10-17T12:00:16-04:00'><meta property='og:image' content='https://tdhopper.com/images/code-review.png'><meta name=twitter:title content="Code Review Guidelines for Data Science Teams"><meta name=twitter:description content="A proposed code review guideline for data science teams, emphasizing the benefits of code reviews, what they are not intended for, and offering detailed advice for both submitting and reviewing pull requests."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://tdhopper.com/images/code-review.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/headshot_hu10640029153394279424.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Tim Hopper</a></h1><h2 class=site-description>Machine Learning. Python. Software Engineering. Math Jokes.</h2></div></header><ol class=menu-social><li><a href=https://github.com/tdhopper target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/tdhopper target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/my-other-sites/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>My Other Sites</span></a></li><li><a href=https://tdhopper.com/talks><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg>
<span>My Talks</span></a></li><li><a href=https://tdhopper.com/categories/podcast/><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Podcast</span></a></li><li><a href=https://resume.tdhopper.com target=_blank><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Resumé</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#what-is-a-code-review-for>What is a code review for?</a></li><li><a href=#what-code-reviews-arent>What code reviews aren&rsquo;t</a></li><li><a href=#opening-pull-requests>Opening Pull Requests</a></li><li><a href=#reviewing-pull-requests>Reviewing Pull Requests</a></li><li><a href=#additional-reading>Additional Reading</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/code-review-guidelines/><img src=/images/code-review.png loading=lazy alt="Featured image of post Code Review Guidelines for Data Science Teams"></a></div><div class=article-details><header class=article-category><a href=/categories/article/ style=background-color:#2a9d8f;color:#fff>Articles</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/code-review-guidelines/>Code Review Guidelines for Data Science Teams</a></h2><h3 class=article-subtitle>A proposed code review guideline for data science teams, emphasizing the benefits of code reviews, what they are not intended for, and offering detailed advice for both submitting and reviewing pull requests.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 03, 2021</time></div></footer></div></header><section class=article-content><p>Over the last 6 years, I&rsquo;ve been able to help the teams I have been part of
develop guidelines for code review. Many teams require &ldquo;code review&rdquo; without
putting any effort into establishing a common understanding of what that
means. This post is adapted from proposed guidelines I prepared for one of my
teams. Of course, you don&rsquo;t have to adopt <em>my</em> guidelines for review, but I
would encourage your team to set aside some time to make sure you all mean the
same thing by &ldquo;code review&rdquo;.</p><h2 id=what-is-a-code-review-for>What is a code review for?</h2><p>Code review has multiple benefits and objectives including:</p><ul><li><p><strong>Code correctness</strong> : someone seeing your code with fresh eyes may help uncover bugs.</p></li><li><p><strong>Code familiarity</strong> : reading one another&rsquo;s code keeps everyone familiar with the codebase.</p></li><li><p><strong>Design feedback</strong> : a constantly evolving code base is a fight against complexity; reviewers can guide one another on keeping the codebase coherent and maintainable.</p></li><li><p><strong>Mutual learning</strong> : the reviewer and author will inevitably learn from one another.</p></li><li><p><strong>Regression protection</strong> : future contributors to the code base have checks against breaking essential functionality; importantly, <em>this reduces fear of making necessary improvements to the code</em>.</p></li></ul><h2 id=what-code-reviews-arent>What code reviews aren&rsquo;t</h2><ul><li><p>An opportunity for the reviewer to impose their idiosyncrasies.</p></li><li><p>An opportunity for the developer to push off responsibility (e.g. correctness) for their code to the reviewer.</p></li><li><p>An opportunity to demand perfection (Per <a class=link href=https://google.github.io/eng-practices/review/reviewer/standard.html target=_blank rel=noopener>Google’s Code Review Guidelines</a>: <em>A key point here is that there is no such thing as &ldquo;perfect&rdquo; code—there is only better code</em> ).</p></li></ul><h2 id=opening-pull-requests>Opening Pull Requests</h2><ul><li><p>Take care to write informative commit messages. This helps your reviewer understand the decisions you made.</p></li><li><p>Consider your contribution in the broader context of the code base. Do you need to take extra steps to make the code healthier and manage complexity?</p></li><li><p>Keep pull requests short whenever possible. <code>git --shortstat origin/main</code> will show you the size of your branch &rsquo;s diff from main; under 400 lines changed is a great goal.</p></li><li><p>Write a pull request description that sets your reviewer up for success by helping them understand what the PR intends to accomplish.</p><ul><li>If you have a particularly complex PR, consider doing a code walk-through with a reviewer first.</li></ul></li><li><p>New code should ordinarily come with new tests.</p></li></ul><h2 id=reviewing-pull-requests>Reviewing Pull Requests</h2><ul><li><p>Have a positive, constructive, helpful attitude.</p></li><li><p>Wait for continuous integration tasks to complete. Let the author resolve any test failures before beginning your review.</p><ul><li>As much as possible, configure your continuous integration to enforce your team&rsquo;s style guidelines and look for line-level bugs. In Python, this might include running mypy, flake8, black, and isort. Automation like this has multiple benefits: they&rsquo;re often better than humans at this task, they reduce cognative load on the reviewer, and they reduce interpersonal tension that results from interviewers nitpicking code.</li></ul></li><li><p>Things to evaluate:</p><ul><li><p>Does the code appear to do what it claims to do? (This requires you understanding what the code claims to do; you may need to ask the code author to write a better description.)</p></li><li><p>Was the new code put in the right place?</p></li><li><p>Is the new code unnecessarily complex—or unnecessarily clever?</p><ul><li>&ldquo;Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it. " – Brian Kernighan</li></ul></li><li><p>Does the new code do all it can to avoid adding to the overall complexity of our codebase?</p></li><li><p>Did the author write tests for the new code?</p></li></ul></li><li><p>Clarify when a comment is minor or not essential for merging (for example, preface with &ldquo;Nit: &ldquo;).</p></li><li><p>If a PR is too large for you to reasonably review, you can ask the author to split it into multiple PRs.</p></li></ul><h2 id=additional-reading>Additional Reading</h2><ul><li><p><a class=link href=https://google.github.io/eng-practices/review/reviewer/standard.html target=_blank rel=noopener>Google &rsquo;s excellent guide to code review</a> (Note: CL=change list=pull request)</p></li><li><p><a class=link href=https://github.com/joho/awesome-code-review/blob/master/readme.md target=_blank rel=noopener>Curated list of articles about code review</a></p></li><li><p><a class=link href=https://docs.gitlab.com/ee/development/code_review.html target=_blank rel=noopener>Gitlab &rsquo;s Code Review Guidelines</a></p></li><li><p><a class=link href=https://www.michaelagreiler.com/code-review-best-practices/ target=_blank rel=noopener>Proven Code Review Best Practices from Microsoft</a></p></li><li><p><a class=link href=https://github.com/thoughtbot/guides/tree/master/code-review target=_blank rel=noopener>Thoughtbot Code Review Guidelines</a></p></li><li><p><a class=link href=https://slack.engineering/how-about-code-reviews/ target=_blank rel=noopener>Code reviews at Slack</a></p></li></ul><hr><small>[Computers](https://flickr.com/photos/duanestorey/2721991488 "Computers") flickr photo by [Duane Storey](https://flickr.com/people/duanestorey) shared under a [Creative Commons (BY-NC-ND) license](https://creativecommons.org/licenses/by-nc-nd/2.0/)</small></section><footer class=article-footer><section class=article-tags><a href=/tags/python/>Python</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Oct 17, 2024 12:00 -0400</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blog/wrapping-up-on-nonparametric-bayes/><div class=article-details><h2 class=article-title>Nonparametric Latent Dirichlet Allocation</h2></div></a></article><article><a href=/blog/wrapping-up-on-nonparametric-bayes/><div class=article-details><h2 class=article-title>Notes on Dirichlet Processes</h2></div></a></article><article class=has-image><a href=/blog/my-summer-doing-math-research/><div class=article-image><img src=/images/graphtheory.jpg loading=lazy data-key data-hash=/images/graphtheory.jpg></div><div class=article-details><h2 class=article-title>My summer doing math (?) research</h2></div></a></article><article class=has-image><a href=/blog/how-i-am-productive/><div class=article-image><img src=/images/todo.png loading=lazy data-key data-hash=/images/todo.png></div><div class=article-details><h2 class=article-title>How I am Productive</h2></div></a></article><article class=has-image><a href=/blog/good-programming-languages-are-nice-but-not-vital/><div class=article-image><img src=/images/complaining.png loading=lazy data-key data-hash=/images/complaining.png></div><div class=article-details><h2 class=article-title>Good programming languages are nice but not vital</h2></div></a></article></div></div></aside><div class=main-article><div class=article-content><span class=site-description>Feedback</span><form class=feedback-form style=margin:auto netlify netlify-honeypot=anything-else><div class=form-group><input type=text id=name name=name required style="width:100%;padding:10px;margin:10px 0" placeholder=Name></div><div class=form-group><input type=text id=address name=email-address required style="width:100%;padding:10px;margin:10px 0" placeholder=Email></div><div class=form-group><textarea id=comment name=comment required style="width:100%;padding:10px;margin:10px 0" rows=6 placeholder=Comment></textarea></div><input type=hidden name=page value=https://tdhopper.com/blog/code-review-guidelines/>
<input type=hidden id=anything-else name=anything-else style=display:none>
<button type=submit style="background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px">Submit</button></form></div></div><footer class=site-footer><section class=copyright>&copy;
2012 -
2024 Tim Hopper</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script>FOOTER</body></html>